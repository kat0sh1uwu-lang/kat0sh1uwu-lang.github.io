<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ –¥–ª—è –°–æ–Ω–µ—á–∫–∏ üíï</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Pacifico&family=Montserrat:wght@400;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #1a0011, #2d0a1e, #1a0011);
            font-family: 'Comfortaa', cursive;
            overflow-x: hidden;
            overflow-y: auto;
            position: relative;
        }

        .tulip-bg {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: 
                linear-gradient(rgba(20, 0, 15, 0.55), rgba(20, 0, 15, 0.55)),
                url('https://images.unsplash.com/photo-1490750967868-88aa4f44baee?w=1920&q=80') center/cover no-repeat;
            animation: bgFadeIn 2s ease;
        }

        .tulip-bg.active {
            display: block;
        }

        @keyframes bgFadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .floating-heart {
            position: absolute;
            top: -50px;
            font-size: 20px;
            animation: fall linear infinite;
            opacity: 0.6;
        }

        @keyframes fall {
            0% { transform: translateY(-50px) rotate(0deg) scale(0.8); opacity: 0; }
            10% { opacity: 0.7; }
            50% { transform: translateY(50vh) rotate(180deg) scale(1); }
            90% { opacity: 0.5; }
            100% { transform: translateY(100vh) rotate(360deg) scale(0.6); opacity: 0; }
        }

        .particle {
            position: fixed;
            width: 3px;
            height: 3px;
            background: radial-gradient(circle, #ff6b9d, transparent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
            animation: particleFloat linear infinite;
        }

        @keyframes particleFloat {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 0.8; }
            100% { transform: translateY(-20vh) scale(1.5); opacity: 0; }
        }

        .container {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 40px 20px;
            max-width: 650px;
            width: 95%;
        }

        .card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.08), 
                rgba(255, 100, 150, 0.08),
                rgba(255, 50, 100, 0.05));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 100, 150, 0.25);
            border-radius: 35px;
            padding: 55px 45px;
            box-shadow: 
                0 0 50px rgba(255, 50, 100, 0.15),
                0 0 100px rgba(255, 50, 100, 0.08),
                0 20px 60px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                inset 0 0 40px rgba(255, 50, 100, 0.03);
            animation: cardFloat 6s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 30% 20%, rgba(255, 100, 150, 0.05), transparent 50%);
            pointer-events: none;
        }

        @keyframes cardFloat {
            0%, 100% { 
                transform: translateY(0); 
                box-shadow: 0 0 50px rgba(255, 50, 100, 0.15), 0 20px 60px rgba(0, 0, 0, 0.3);
            }
            50% { 
                transform: translateY(-8px); 
                box-shadow: 0 0 70px rgba(255, 50, 100, 0.25), 0 30px 80px rgba(0, 0, 0, 0.25);
            }
        }

        .card-letter {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.12), 
                rgba(255, 100, 150, 0.1),
                rgba(255, 200, 220, 0.08));
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 150, 180, 0.3);
            border-radius: 35px;
            padding: 55px 45px;
            box-shadow: 
                0 0 60px rgba(255, 50, 100, 0.2),
                0 0 120px rgba(255, 50, 100, 0.1),
                0 25px 80px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                inset 0 0 60px rgba(255, 100, 150, 0.05);
            position: relative;
            overflow: hidden;
        }

        .card-letter::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, #ff4081, #ff6b9d, #ff4081, transparent);
            border-radius: 35px 35px 0 0;
        }

        .card-letter::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, #ff4081, #ff6b9d, #ff4081, transparent);
            border-radius: 0 0 35px 35px;
        }

        .big-heart {
            font-size: 85px;
            animation: heartbeat 1.5s ease-in-out infinite;
            display: inline-block;
            margin-bottom: 25px;
            filter: drop-shadow(0 0 20px rgba(255, 50, 100, 0.4));
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            15% { transform: scale(1.2); }
            30% { transform: scale(1); }
            45% { transform: scale(1.15); }
            60% { transform: scale(1); }
        }

        .question {
            font-family: 'Pacifico', cursive;
            font-size: 34px;
            color: #ff6b9d;
            margin-bottom: 40px;
            text-shadow: 
                0 0 20px rgba(255, 107, 157, 0.5),
                0 0 40px rgba(255, 107, 157, 0.2);
            line-height: 1.5;
        }

        .buttons-container {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            justify-content: center;
            margin-top: 25px;
        }

        .btn-no {
            background: linear-gradient(145deg, #555, #3a3a3a);
            color: #bbb;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 13px 28px;
            border-radius: 50px;
            font-family: 'Comfortaa', cursive;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-no::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            transition: left 0.5s;
        }

        .btn-no:hover::after {
            left: 100%;
        }

        .btn-no:hover {
            transform: scale(0.95);
            opacity: 0.7;
        }

        .btn-no:active {
            transform: scale(0.9);
        }

        .btn-fake-yes {
            background: linear-gradient(145deg, #ff4081, #e91e63, #ff1744);
            color: white;
            border: none;
            padding: 16px 34px;
            border-radius: 50px;
            font-family: 'Comfortaa', cursive;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 25px rgba(255, 64, 129, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            animation: yesGlow 2s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .btn-fake-yes:hover {
            transform: scale(1.08);
            box-shadow: 0 6px 35px rgba(255, 64, 129, 0.6);
        }

        .btn-yes {
            background: linear-gradient(145deg, #ff4081, #e91e63, #ff1744);
            color: white;
            border: none;
            padding: 22px 50px;
            border-radius: 50px;
            font-family: 'Comfortaa', cursive;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 
                0 6px 30px rgba(255, 64, 129, 0.5),
                0 0 60px rgba(255, 64, 129, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            animation: yesGlowBig 2s ease-in-out infinite;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .btn-yes:hover {
            transform: scale(1.12);
            box-shadow: 
                0 8px 40px rgba(255, 64, 129, 0.7),
                0 0 80px rgba(255, 64, 129, 0.3);
        }

        @keyframes yesGlow {
            0%, 100% { box-shadow: 0 4px 25px rgba(255, 64, 129, 0.4); }
            50% { box-shadow: 0 4px 40px rgba(255, 64, 129, 0.7), 0 0 50px rgba(255, 64, 129, 0.2); }
        }

        @keyframes yesGlowBig {
            0%, 100% { box-shadow: 0 6px 30px rgba(255, 64, 129, 0.5), 0 0 60px rgba(255, 64, 129, 0.2); }
            50% { box-shadow: 0 6px 50px rgba(255, 64, 129, 0.8), 0 0 100px rgba(255, 64, 129, 0.3); }
        }

        .btn-appear {
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes popIn {
            0% { transform: scale(0) rotate(-10deg); opacity: 0; }
            60% { transform: scale(1.1) rotate(2deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .yes-page {
            display: none;
            text-align: center;
        }

        .yes-page.active {
            display: block;
            animation: fadeInUp 1.2s ease;
        }

        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(40px) scale(0.95); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        .yes-title {
            font-family: 'Pacifico', cursive;
            font-size: 46px;
            color: #ff4081;
            margin-bottom: 30px;
            text-shadow: 
                0 0 30px rgba(255, 64, 129, 0.6),
                0 0 60px rgba(255, 64, 129, 0.3);
            animation: celebrateTitle 1s ease-in-out infinite alternate;
        }

        @keyframes celebrateTitle {
            0% { transform: scale(1) rotate(-1deg); }
            100% { transform: scale(1.06) rotate(1deg); }
        }

        .love-text {
            color: #f5d0df;
            font-size: 17px;
            line-height: 2.1;
            margin-bottom: 25px;
            text-align: left;
            padding: 0 15px;
            font-family: 'Montserrat', sans-serif;
        }

        .love-text p {
            margin-bottom: 18px;
        }

        .signature {
            font-family: 'Pacifico', cursive;
            font-size: 24px;
            color: #ff6b9d;
            margin-top: 35px;
            text-shadow: 
                0 0 15px rgba(255, 107, 157, 0.4),
                0 0 30px rgba(255, 107, 157, 0.2);
        }

        .emoji-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        .confetti {
            position: absolute;
            font-size: 30px;
            animation: confettiFall linear forwards;
        }

        @keyframes confettiFall {
            0% { transform: translateY(-50px) rotate(0deg) scale(0); opacity: 1; }
            15% { transform: translateY(8vh) rotate(60deg) scale(1.3); opacity: 1; }
            100% { transform: translateY(105vh) rotate(720deg) scale(0.4); opacity: 0; }
        }

        .message {
            color: #ff8fb8;
            font-size: 16px;
            margin-top: 20px;
            font-style: italic;
            min-height: 30px;
            transition: all 0.5s ease;
            text-shadow: 0 0 10px rgba(255, 143, 184, 0.3);
            font-family: 'Montserrat', sans-serif;
        }

        @media (max-width: 480px) {
            .card, .card-letter { padding: 35px 22px; }
            .question { font-size: 26px; }
            .yes-title { font-size: 34px; }
            .love-text { font-size: 15px; padding: 0 8px; }
            .big-heart { font-size: 65px; }
            .btn-yes { padding: 18px 35px; font-size: 16px; }
            .container { padding: 20px 10px; }
        }

        .hearts-border {
            display: flex;
            justify-content: center;
            gap: 6px;
            font-size: 22px;
            margin: 20px 0;
        }

        .hearts-border span {
            animation: heartWave 2s ease-in-out infinite;
            filter: drop-shadow(0 0 5px rgba(255, 50, 100, 0.4));
        }

        @keyframes heartWave {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.1); }
        }

        .sparkle {
            position: fixed;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 200;
            animation: sparkleStarAnim 0.8s ease-out forwards;
        }

        @keyframes sparkleStarAnim {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }

        .deco-circle {
            position: fixed;
            border-radius: 50%;
            border: 1px solid rgba(255, 100, 150, 0.1);
            pointer-events: none;
            z-index: 0;
            animation: decoFloat 8s ease-in-out infinite;
        }

        @keyframes decoFloat {
            0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.3; }
            50% { transform: translate(20px, -30px) scale(1.1); opacity: 0.5; }
        }

        .divider {
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 100, 150, 0.4), transparent);
            margin: 25px auto;
        }
    </style>
</head>
<body>

    <div class="deco-circle" style="width:300px;height:300px;top:10%;left:-5%;animation-delay:0s;"></div>
    <div class="deco-circle" style="width:200px;height:200px;top:60%;right:-3%;animation-delay:2s;"></div>
    <div class="deco-circle" style="width:150px;height:150px;bottom:10%;left:20%;animation-delay:4s;"></div>

    <div class="tulip-bg" id="tulipBg"></div>

    <div class="hearts-bg" id="heartsBg"></div>

    <div class="container">
        <div class="card" id="questionCard">
            <div class="big-heart">üíï</div>
            <div class="question">–¢—ã —Å—Ç–∞–Ω–µ—à—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? ü•∫</div>
            
            <div class="buttons-container" id="buttonsContainer">
                <button class="btn-no" onclick="handleClick('no')">–ù–µ—Ç</button>
                <button class="btn-no" onclick="handleClick('no')">–ù–µ—Ç</button>
            </div>

            <div class="message" id="message"></div>
        </div>

        <div class="yes-page" id="yesPage">
            <div class="card-letter">
                <div class="yes-title">–£–†–ê–ê–ê! üéâüíñüéâ</div>
                
                <div class="hearts-border" id="heartsWave"></div>

                <div class="divider"></div>

                <div class="love-text">
                    <p>–°–æ–Ω–µ—á–∫–∞ –ª—é–±–∏–º–∞—è, —É–∂–µ –Ω–∞—à–µ –≤—Ç–æ—Ä–æ–µ 14 —Ñ–µ–≤—Ä–∞–ª—è! üíï</p>
                    
                    <p>–Ø —Ç–µ–±—è –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é –∏ –±—É–¥—É –ª—é–±–∏—Ç—å –≤–µ—á–Ω–æ. –¶–µ–ª—É—é –≤–µ—á–Ω–æ—Å—Ç—å. ‚ù§Ô∏èüòò</p>
                    
                    <p>–£ –º–µ–Ω—è –Ω–µ –±—ã–ª–æ –Ω–∏–∫–æ–≥–¥–∞ –≤ –ø–ª–∞–Ω–∞—Ö –ø–µ—Ä–µ—Å—Ç–∞–≤–∞—Ç—å —Ç–µ–±—è –ª—é–±–∏—Ç—å, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ç–µ–±–µ –Ω–∞–≥–∞–¥–∏—Ç—å –∏–ª–∏ —á—Ç–æ –µ—â–µ —Ö—É–∂–µ —Ä–∞—Å—Å—Ç–∞—Ç—å—Å—è (–Ω–∏ –µ–¥–∏–Ω–æ–π –º—ã—Å–ª–∏ —Ç–∞–∫–æ–π –Ω–µ –±—ã–ª–æ) üôÖ‚Äç‚ôÇÔ∏èüíò</p>
                    
                    <p>–ó–∞ —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ –º—ã —Å—Ç–∞–ª–∏ –µ—â–µ –±–ª–∏–∂–µ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É –≤–æ –≤—Å–µ—Ö –ø–ª–∞–Ω–∞—Ö, –±—É–∫–≤–∞–ª—å–Ω–æ –¥–æ–ø–æ–ª–Ω—è–µ–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ –º–Ω–µ —ç—Ç–æ —Ç–∞–∫ –Ω—Ä–∞–≤–∏—Ç—Å—è, —è –æ—á–µ–Ω—å —Ä–∞–¥ —á—Ç–æ —Å —Ç–æ–±–æ–π –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è ü•∞‚ú®</p>
                </div>

                <div class="divider"></div>

                <div class="hearts-border" id="heartsWave2"></div>

                <div class="signature">
                    üíù –ù–∞–≤–µ—á–Ω–æ –ª—é–±–∏–º–æ–π –°–æ–Ω–µ—á–∫–µ üíù
                </div>
            </div>
        </div>
    </div>

    <div class="emoji-rain" id="emojiRain"></div>

    <script>
        let currentStep = 0;

        const steps = [
            // –®–∞–≥ 0: –Ω–∞—á–∞–ª—å–Ω—ã–µ 2 –∫–Ω–æ–ø–∫–∏ –Ω–µ—Ç (—É–∂–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
            {
                message: "–°–æ–Ω—å–∫–∞ –Ω—É –ø–æ—á–µ–º—É —Ç—ã –æ—Ç–≤–µ—Ä–≥–∞–µ—à—å –º–æ—ë –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ?( üò¢",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "–°–æ–Ω—å –Ω—É –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ —Å—Ç–∞–Ω—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π, –ø–æ—á–µ–º—É —Ç—ã –Ω–µ—Ç –Ω–∞–∂–∏–º–∞–µ—à—å ü•∫",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "–°–æ–Ω—è —Å—Ç–∞–Ω—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π, –Ω–∞–∂–º–∏ –¥–∞ üíï",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–î–∞", type: "fake" }
                ]
            },
            {
                message: "–£—Ä–∞–∞ —ç—Ç–∞ –∫–Ω–æ–ø–∫–∞ –¥–∞! üéâ",
                buttons: [
                    { text: "–î–∞", type: "fake" }
                ]
            },
            {
                message: "–í–æ—Ç —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–¥–∞ –∫–Ω–æ–ø–∫–∞ –¥–∞ üòç",
                buttons: [
                    { text: "–î–∞", type: "fake" }
                ]
            },
            {
                message: "–û–±–º–∞–Ω—É–ª —Ö–∏—Ö–∏ üòú",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "",
                buttons: [
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" },
                    { text: "–ù–µ—Ç", type: "no" }
                ]
            },
            {
                message: "–õ–∞–¥–Ω–æ –≤–æ—Ç –Ω–∞—Å—Ç–æ—è—â–∞—è –∫–Ω–æ–ø–∫–∞ –¥–∞ üëá",
                buttons: [
                    { text: "üíñ –î–ê üíñ", type: "fake" }
                ]
            },
            {
                message: "–≠—Ö—Ö—Ö —ç—Ç–æ —Å–Ω–æ–≤–∞ –æ–±–º–∞–Ω( –¢–£–¢ –¢–û–ß–ù–û –î–ê! üòÖ",
                buttons: [
                    { text: "üíñ –î–ê –¢–û–ß–ù–û –î–ê üíñ", type: "fake" }
                ]
            },
            {
                message: "–°—Ç–∞–Ω–µ—à—å –≤–∞–ª–µ–Ω—Ç–∏–Ω–æ—á–∫–æ–π –º–æ–µ–π, –°–æ–Ω—å–∫–∞ –ª—é–±–∏–º–∫–∞? ü•∞üíï",
                buttons: [
                    { text: "üíñ –î–ê –ö–û–ù–ï–ß–ù–û –°–¢–ê–ù–£! üíñ", type: "real" }
                ]
            }
        ];

        function handleClick(type) {
            createSparkles(event);

            if (currentStep >= steps.length) return;

            const stepData = steps[currentStep];
            const container = document.getElementById('buttonsContainer');
            const message = document.getElementById('message');

            message.textContent = stepData.message;
            container.innerHTML = '';

            stepData.buttons.forEach(function(btn, index) {
                const button = document.createElement('button');
                button.className = 'btn-appear';
                button.style.animationDelay = (index * 0.1) + 's';

                if (btn.type === 'no') {
                    button.className += ' btn-no';
                    button.textContent = btn.text;
                    button.addEventListener('click', function(e) {
                        createSparkles(e);
                        currentStep++;
                        handleClick('no');
                    });
                } else if (btn.type === 'fake') {
                    button.className += ' btn-fake-yes';
                    button.textContent = btn.text;
                    button.addEventListener('click', function(e) {
                        createSparkles(e);
                        currentStep++;
                        handleClick('fake');
                    });
                } else if (btn.type === 'real') {
                    button.className += ' btn-yes';
                    button.textContent = btn.text;
                    button.addEventListener('click', function(e) {
                        createSparkles(e);
                        showYesPage();
                    });
                }

                container.appendChild(button);
            });

            currentStep++;
        }

        function createSparkles(e) {
            if (!e) return;
            var colors = ['#ff4081', '#ff6b9d', '#ffb3d1', '#ff1744', '#ff80ab', '#fff'];
            for (var i = 0; i < 10; i++) {
                var sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                var angle = (Math.PI * 2 * i) / 10;
                var distance = 20 + Math.random() * 30;
                var x = e.clientX + Math.cos(angle) * distance;
                var y = e.clientY + Math.sin(angle) * distance;
                sparkle.style.left = x + 'px';
                sparkle.style.top = y + 'px';
                sparkle.style.width = (3 + Math.random() * 5) + 'px';
                sparkle.style.height = sparkle.style.width;
                var color = colors[Math.floor(Math.random() * colors.length)];
                sparkle.style.background = 'radial-gradient(circle, ' + color + ', transparent)';
                sparkle.style.boxShadow = '0 0 6px ' + color;
                document.body.appendChild(sparkle);
                (function(el) {
                    setTimeout(function() { el.remove(); }, 800);
                })(sparkle);
            }
        }

        function showYesPage() {
            document.getElementById('questionCard').style.display = 'none';
            document.getElementById('tulipBg').classList.add('active');

            var yesPage = document.getElementById('yesPage');
            yesPage.classList.add('active');

            generateHeartsWave('heartsWave');
            generateHeartsWave('heartsWave2');

            launchConfetti();

            for (var i = 0; i < 40; i++) {
                (function(idx) {
                    setTimeout(function() { createFallingHeart(); }, idx * 80);
                })(i);
            }
        }

        function generateHeartsWave(containerId) {
            var container = document.getElementById(containerId);
            var hearts = ['üíï', 'üíñ', 'üíó', 'üíò', 'üíù', '‚ù§Ô∏è', 'üíû', 'üíì', 'üíï', 'üå∑', 'üíï'];
            hearts.forEach(function(heart, i) {
                var span = document.createElement('span');
                span.textContent = heart;
                span.style.animationDelay = (i * 0.15) + 's';
                container.appendChild(span);
            });
        }

        function launchConfetti() {
            var emojis = ['üíñ', 'üíï', '‚ù§Ô∏è', 'üíó', 'üéâ', '‚ú®', 'üíò', 'ü•∞', 'üíù', 'üåπ', 'üíê', 'üéä', 'üå∑', 'ü¶ã'];
            var container = document.getElementById('emojiRain');
            
            for (var i = 0; i < 80; i++) {
                (function(idx) {
                    setTimeout(function() {
                        var confetti = document.createElement('div');
                        confetti.className = 'confetti';
                        confetti.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                        confetti.style.left = Math.random() * 100 + 'vw';
                        confetti.style.fontSize = (18 + Math.random() * 28) + 'px';
                        confetti.style.animationDuration = (2.5 + Math.random() * 3.5) + 's';
                        container.appendChild(confetti);
                        setTimeout(function() { confetti.remove(); }, 6000);
                    }, idx * 70);
                })(i);
            }

            setTimeout(function() {
                for (var i = 0; i < 40; i++) {
                    (function(idx) {
                        setTimeout(function() {
                            var confetti = document.createElement('div');
                            confetti.className = 'confetti';
                            confetti.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                            confetti.style.left = Math.random() * 100 + 'vw';
                            confetti.style.fontSize = (18 + Math.random() * 22) + 'px';
                            confetti.style.animationDuration = (2 + Math.random() * 3) + 's';
                            container.appendChild(confetti);
                            setTimeout(function() { confetti.remove(); }, 5000);
                        }, idx * 120);
                    })(i);
                }
            }, 4000);
        }

        function createFallingHeart() {
            var container = document.getElementById('heartsBg');
            var hearts = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', '‚ô•Ô∏è', 'üå∑'];
            var heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.fontSize = (14 + Math.random() * 22) + 'px';
            heart.style.animationDuration = (4 + Math.random() * 7) + 's';
            heart.style.animationDelay = Math.random() * 2 + 's';
            container.appendChild(heart);
            setTimeout(function() { heart.remove(); }, 13000);
        }

        function createParticle() {
            var particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.animationDuration = (5 + Math.random() * 8) + 's';
            particle.style.animationDelay = Math.random() * 3 + 's';
            particle.style.width = (2 + Math.random() * 4) + 'px';
            particle.style.height = particle.style.width;
            document.body.appendChild(particle);
            setTimeout(function() { particle.remove(); }, 15000);
        }

        function initBackgroundHearts() {
            for (var i = 0; i < 12; i++) {
                (function(idx) {
                    setTimeout(function() { createFallingHeart(); }, idx * 600);
                })(i);
            }
            setInterval(function() { createFallingHeart(); }, 900);
        }

        function initParticles() {
            for (var i = 0; i < 20; i++) {
                (function(idx) {
                    setTimeout(function() { createParticle(); }, idx * 400);
                })(i);
            }
            setInterval(function() { createParticle(); }, 600);
        }

        initBackgroundHearts();
        initParticles();
    </script>
</body>
</html>
